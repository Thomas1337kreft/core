import{C as w}from"./index-2d8450fc.js";import{l as S,O as P,F as B,P as $,Q as C,c as N,R as z,S as E,T as M,U as G,V as H,W as R,X as Z,Y as K,Z as A,_ as F,$ as J,m as Q,n as U,o as X,p as Y,a0 as ee,a1 as te}from"./vendor-fortawesome-c8ba7a4b.js";import{_ as T,u as d,l as i,x as m,E as r,G as c,B as h,A as e,F as a,m as n,q as I,M as x,N as W,z as k}from"./vendor-225e5a35.js";import{C as se,p as oe,a as ae,L as ie,b as re,P as ce,c as ne,T as le,i as de,d as pe,e as ue}from"./vendor-chartjs-8a2e988a.js";import"./vendor-bootstrap-dc6ff6d7.js";import"./vendor-jquery-3afa7086.js";import"./vendor-axios-d13ef09e.js";import"./vendor-sortablejs-ec100a54.js";import"./vendor-luxon-8ddd27a0.js";S.add(P);const he={name:"ChargePointSumCard",components:{FontAwesomeIcon:B},mixins:[w],computed:{baseTopic:{get(){return"openWB/chargepoint"}}}},ge={class:"text-right"},me={class:"row"},be={class:"col text-right text-monospace"},_e={class:"row"},fe={class:"col-4 text-right text-monospace"},ve={class:"col-4 text-right text-monospace"},ye={class:"row"},we={class:"col-4 text-right text-monospace"},Te={class:"col-4 text-right text-monospace"};function xe(s,o,u,b,f,t){const p=d("font-awesome-icon"),l=d("openwb-base-card");return i(),m(l,{subtype:"primary",collapsible:!0,collapsed:!0,class:"pb-0"},{header:r(()=>[c(p,{"fixed-width":"",icon:["fas","charging-station"]}),o[0]||(o[0]=h(" Alle Ladepunkte "))]),actions:r(()=>[e("span",ge,a(s.formatNumberTopic(t.baseTopic+"/get/power",3,3,.001))+" kW ",1)]),default:r(()=>[c(l,{subtype:"white","body-bg":"white",class:"py-1 mb-2"},{default:r(()=>[o[1]||(o[1]=e("div",{class:"row py-2"},[e("div",{class:"col font-weight-bold"},"Ladevorgang"),e("div",{class:"col text-right"},"Leistung")],-1)),e("div",me,[e("div",be,a(s.formatNumberTopic(t.baseTopic+"/get/power",3,3,.001)),1)])]),_:1}),c(l,{subtype:"white","body-bg":"white",class:"py-1 mb-2",title:"Zählerstände"},{default:r(()=>[o[4]||(o[4]=e("div",{class:"row justify-content-end"},[e("div",{class:"col-4 text-right"},"Geladen"),e("div",{class:"col-4 text-right"},"Entladen")],-1)),e("div",_e,[o[2]||(o[2]=e("div",{class:"col text-right"},"Heute",-1)),e("div",fe,a(s.formatNumberTopic(t.baseTopic+"/get/daily_imported",3,3,.001)+" kWh"),1),e("div",ve,a(s.formatNumberTopic(t.baseTopic+"/get/daily_exported",3,3,.001)+" kWh"),1)]),e("div",ye,[o[3]||(o[3]=e("div",{class:"col text-right"},"Gesamt",-1)),e("div",we,a(s.formatNumberTopic(t.baseTopic+"/get/imported",3,3,.001)+" kWh"),1),e("div",Te,a(s.formatNumberTopic(t.baseTopic+"/get/exported",3,3,.001)+" kWh"),1)])]),_:1})]),_:1})}const We=T(he,[["render",xe],["__file","/opt/openWB-dev/openwb-ui-settings/src/components/status/ChargePointSumCard.vue"]]);S.add($,C,N,P,z,E,M,G,H,R,Z);const ke={name:"ChargePointCard",components:{FontAwesomeIcon:B},mixins:[w],props:{installedChargePointKey:{type:String,required:!0},installedChargePoint:{type:Object,required:!0}},computed:{chargePointIndex:{get(){return parseInt(this.installedChargePointKey.match(/(?:\/)(\d+)(?=\/)/)[1])}},baseTopic:{get(){return"openWB/chargepoint/"+this.chargePointIndex}},chargingStatus:{get(){let s=this.chargePointIndex,o=this.$store.state.mqtt["openWB/chargepoint/"+s+"/get/plug_state"],u=this.$store.state.mqtt["openWB/chargepoint/"+s+"/get/charge_state"];return o==1&&u==1?{icon:["fas","plug-circle-bolt"],text:"Fahrzeug angesteckt, Ladevorgang aktiv"}:o==1?{icon:["fas","plug-circle-check"],text:"Fahrzeug angesteckt, kein Ladevorgang aktiv"}:{icon:["fas","plug-circle-minus"],text:"Kein Fahrzeug angesteckt"}}}}},Se={key:0,class:"text-right"},Be={key:0},$e={key:1},Ce={class:"row py-2"},Ne={class:"col text-right"},Ie={style:{"white-space":"pre-wrap"}},qe={class:"row"},Pe={class:"col text-right text-monospace"},Ae={class:"col text-right text-monospace"},Fe={class:"row"},Oe={key:0,class:"col text-right text-monospace"},Le={key:1,class:"col text-right text-monospace"},De={class:"col text-right text-monospace"},je={class:"row"},Ve={class:"col-4 text-right text-monospace"},ze={class:"col-4 text-right text-monospace"},Ee={class:"row"},Me={class:"col-4 text-right text-monospace"},Ge={class:"col-4 text-right text-monospace"},He={class:"row"},Re={class:"col text-right text-monospace"},Ze={class:"col text-right text-monospace"},Ke={class:"col text-right text-monospace"},Je={class:"row"},Qe={class:"col text-right text-monospace"},Ue={class:"col text-right text-monospace"},Xe={class:"col text-right text-monospace"},Ye={class:"row"},et={class:"col text-right text-monospace"},tt={class:"col text-right text-monospace"},st={class:"col text-right text-monospace"},ot={class:"row"},at={class:"col text-right text-monospace"},it={class:"col text-right text-monospace"},rt={class:"col text-right text-monospace"},ct={class:"row"},nt={class:"col text-center text-monospace"},lt={class:"container"},dt={class:"row"},pt={class:"col px-0"},ut={style:{"white-space":"pre-wrap"}},ht={class:"col col-auto pr-0"},gt={class:"text-right"};function mt(s,o,u,b,f,t){const p=d("font-awesome-icon"),l=d("openwb-base-alert"),g=d("openwb-base-card");return i(),m(g,{subtype:"primary",collapsible:!0,collapsed:!0,class:"pb-0"},{header:r(()=>[c(p,{"fixed-width":"",icon:["fas","charging-station"]}),h(" "+a(u.installedChargePoint.name),1)]),actions:r(()=>[s.getFaultStateSubtype(t.baseTopic)=="success"?(i(),n("div",Se,[h(a(s.formatNumberTopic(t.baseTopic+"/get/power",3,3,.001))+" kW ",1),c(p,{"fixed-width":"",icon:t.chargingStatus.icon,title:t.chargingStatus.text},null,8,["icon","title"])])):(i(),n("span",{key:1,class:I("subheader pill bg-"+s.getFaultStateSubtype(t.baseTopic))},[s.getFaultStateSubtype(t.baseTopic)=="warning"?(i(),n("div",Be,"Warnung")):(i(),n("div",$e,"Fehler"))],2))]),footer:r(()=>[e("div",lt,[e("div",dt,[e("div",pt,[c(l,{subtype:s.getFaultStateSubtype(t.baseTopic)},{default:r(()=>[c(p,{"fixed-width":"",icon:s.stateIcon},null,8,["icon"]),o[12]||(o[12]=h(" Modulmeldung: ")),e("span",ut,a(s.$store.state.mqtt[t.baseTopic+"/get/fault_str"]),1)]),_:1},8,["subtype"])]),e("div",ht,[e("div",gt,"ID: "+a(t.chargePointIndex),1)])])])]),default:r(()=>[c(g,{subtype:"white","body-bg":"white",class:"py-1 mb-2"},{default:r(()=>[e("div",Ce,[o[0]||(o[0]=e("div",{class:"col col-auto font-weight-bold"},"Status",-1)),e("div",Ne,[c(p,{"fixed-width":"",icon:t.chargingStatus.icon,title:t.chargingStatus.text},null,8,["icon","title"]),h(" "+a(t.chargingStatus.text),1)])]),c(l,{subtype:"info"},{default:r(()=>[o[1]||(o[1]=h(" Statusmeldung: ")),e("span",Ie,a(s.$store.state.mqtt[t.baseTopic+"/get/state_str"]),1)]),_:1}),h(" max. Ladeleistung: "+a((s.max_power=s.formatNumberTopic("openWB/chargepoint/"+t.chargePointIndex+"/get/max_evse_current",0))=="-"?s.max_power:Math.floor(s.max_power*3*230/1e3))+" kW ",1)]),_:1}),c(g,{subtype:"white","body-bg":"white",class:"py-1 mb-2",title:"Ladevorgang"},{default:r(()=>[o[2]||(o[2]=e("div",{class:"row"},[e("div",{class:"col text-right"},"Ladestrom Vorgabe"),e("div",{class:"col text-right"},"Leistung")],-1)),e("div",qe,[e("div",Pe,a(s.formatNumberTopic(t.baseTopic+"/set/current",2))+" A",1),e("div",Ae,a(s.formatNumberTopic(t.baseTopic+"/get/power",3,3,.001))+" kW ",1)]),o[3]||(o[3]=e("div",{class:"row"},[e("div",{class:"col text-right"},"Phasen Vorgabe"),e("div",{class:"col text-right"},"Phasen Aktuell")],-1)),e("div",Fe,[s.$store.state.mqtt["openWB/general/extern"]===!0?(i(),n("div",Oe,a(s.formatNumberTopic("openWB/internal_chargepoint/"+t.chargePointIndex+"/data/phases_to_use")),1)):(i(),n("div",Le,a(s.formatNumberTopic(t.baseTopic+"/set/phases_to_use")),1)),e("div",De,a(s.formatNumberTopic(t.baseTopic+"/get/phases_in_use")),1)])]),_:1}),c(g,{subtype:"white","body-bg":"white",class:"py-1 mb-2",title:"Zählerstände"},{default:r(()=>[o[6]||(o[6]=e("div",{class:"row justify-content-end"},[e("div",{class:"col-4 text-right"},"Geladen"),e("div",{class:"col-4 text-right"},"Entladen")],-1)),e("div",je,[o[4]||(o[4]=e("div",{class:"col text-right"},"Heute",-1)),e("div",Ve,a(s.formatNumberTopic(t.baseTopic+"/get/daily_imported",3,3,.001))+" kWh ",1),e("div",ze,a(s.formatNumberTopic(t.baseTopic+"/get/daily_exported",3,3,.001))+" kWh ",1)]),e("div",Ee,[o[5]||(o[5]=e("div",{class:"col text-right"},"Gesamt",-1)),e("div",Me,a(s.formatNumberTopic(t.baseTopic+"/get/imported",3,3,.001))+" kWh ",1),e("div",Ge,a(s.formatNumberTopic(t.baseTopic+"/get/exported",3,3,.001))+" kWh ",1)])]),_:1}),c(g,{subtype:"white","body-bg":"white",class:"py-1 mb-2",title:"Werte pro Phase"},{default:r(()=>[e("div",He,[o[7]||(o[7]=e("div",{class:"col-md-4 pr-1 text-center text-md-right"},"Spannung [V]",-1)),e("div",Re,a(s.formatPhaseArrayNumberTopic(t.baseTopic+"/get/voltages",1).split(" / ")[0]),1),e("div",Ze,a(s.formatPhaseArrayNumberTopic(t.baseTopic+"/get/voltages",1).split(" / ")[1]),1),e("div",Ke,a(s.formatPhaseArrayNumberTopic(t.baseTopic+"/get/voltages",1).split(" / ")[2]),1)]),e("div",Je,[o[8]||(o[8]=e("div",{class:"col-md-4 pr-1 text-center text-md-right"},"Strom [A]",-1)),e("div",Qe,a(s.formatPhaseArrayNumberTopic(t.baseTopic+"/get/currents",2).split(" / ")[0]),1),e("div",Ue,a(s.formatPhaseArrayNumberTopic(t.baseTopic+"/get/currents",2).split(" / ")[1]),1),e("div",Xe,a(s.formatPhaseArrayNumberTopic(t.baseTopic+"/get/currents",2).split(" / ")[2]),1)]),e("div",Ye,[o[9]||(o[9]=e("div",{class:"col-md-4 pr-1 text-center text-md-right"},"Wirkleistung [kW]",-1)),e("div",et,a(s.formatPhaseArrayNumberTopic(t.baseTopic+"/get/powers",3,3,.001).split(" / ")[0]),1),e("div",tt,a(s.formatPhaseArrayNumberTopic(t.baseTopic+"/get/powers",3,3,.001).split(" / ")[1]),1),e("div",st,a(s.formatPhaseArrayNumberTopic(t.baseTopic+"/get/powers",3,3,.001).split(" / ")[2]),1)]),e("div",ot,[o[10]||(o[10]=e("div",{class:"col-md-4 pr-1 text-center text-md-right"},"Leistungsfaktor",-1)),e("div",at,a(s.formatPhaseArrayNumberTopic(t.baseTopic+"/get/power_factors",2).split(" / ")[0]),1),e("div",it,a(s.formatPhaseArrayNumberTopic(t.baseTopic+"/get/power_factors",2).split(" / ")[1]),1),e("div",rt,a(s.formatPhaseArrayNumberTopic(t.baseTopic+"/get/power_factors",2).split(" / ")[2]),1)]),e("div",ct,[o[11]||(o[11]=e("div",{class:"col-md-4 pr-1 text-center text-md-right"},"Netzfrequenz",-1)),e("div",nt,a(s.formatNumberTopic(t.baseTopic+"/get/frequency",3))+" Hz ",1)])]),_:1})]),_:1})}const bt=T(ke,[["render",mt],["__file","/opt/openWB-dev/openwb-ui-settings/src/components/status/ChargePointCard.vue"]]);S.add($,C,N,K);const _t={name:"CounterCard",components:{FontAwesomeIcon:B},mixins:[w],props:{counter:{type:Object,required:!0}},computed:{baseTopic:{get(){return"openWB/counter/"+this.counter.id}}}},ft={key:0,class:"text-right"},vt={key:0},yt={key:1},wt={class:"row"},Tt={class:"col text-right text-monospace pl-0"},xt={class:"col text-right text-monospace pl-0"},Wt={class:"row"},kt={class:"col text-right text-monospace pl-0"},St={class:"col text-right text-monospace pl-0"},Bt={class:"row"},$t={class:"col"},Ct={class:"row"},Nt={class:"col text-right text-monospace pl-0"},It={class:"col text-right text-monospace pl-0"},qt={class:"col text-right text-monospace pl-0"},Pt={class:"row"},At={class:"col"},Ft={class:"row"},Ot={class:"col text-right text-monospace pl-0"},Lt={class:"col text-right text-monospace pl-0"},Dt={class:"col text-right text-monospace pl-0"},jt={class:"row"},Vt={class:"col"},zt={class:"row"},Et={class:"col text-right text-monospace pl-0"},Mt={class:"col text-right text-monospace pl-0"},Gt={class:"col text-right text-monospace pl-0"},Ht={class:"row"},Rt={class:"col"},Zt={class:"row"},Kt={class:"col text-right text-monospace pl-0"},Jt={class:"col text-right text-monospace pl-0"},Qt={class:"col text-right text-monospace pl-0"},Ut={class:"container"},Xt={class:"row"},Yt={class:"col px-0"},es={style:{"white-space":"pre-wrap"}},ts={class:"col col-auto pr-0"},ss={class:"text-right"};function os(s,o,u,b,f,t){const p=d("font-awesome-icon"),l=d("openwb-base-card"),g=d("openwb-base-alert");return i(),m(l,{subtype:"danger",collapsible:!0,collapsed:!0,class:"pb-0"},{header:r(()=>[c(p,{"fixed-width":"",icon:["fas","gauge-high"]}),h(" "+a(u.counter.name),1)]),actions:r(()=>[s.getFaultStateSubtype(t.baseTopic)=="success"?(i(),n("div",ft,a(s.formatNumberTopic(t.baseTopic+"/get/power",3,3,.001))+" kW ",1)):(i(),n("span",{key:1,class:I("subheader pill bg-"+s.getFaultStateSubtype(t.baseTopic))},[s.getFaultStateSubtype(t.baseTopic)=="warning"?(i(),n("div",vt,"Warnung")):(i(),n("div",yt,"Fehler"))],2))]),footer:r(()=>[e("div",Ut,[e("div",Xt,[e("div",Yt,[c(g,{subtype:s.getFaultStateSubtype(t.baseTopic)},{default:r(()=>[c(p,{"fixed-width":"",icon:s.stateIcon},null,8,["icon"]),o[6]||(o[6]=h(" Modulmeldung: ")),e("span",es,a(s.$store.state.mqtt[t.baseTopic+"/get/fault_str"]),1)]),_:1},8,["subtype"])]),e("div",ts,[e("div",ss,"ID: "+a(u.counter.id),1)])])])]),default:r(()=>[c(l,{title:"Aktuelle Werte",subtype:"white","body-bg":"white",class:"py-1 mb-2"},{default:r(()=>[o[0]||(o[0]=e("div",{class:"row"},[e("div",{class:"col-6 text-right"},"Leistung"),e("div",{class:"col-6 text-right"},"Netzfrequenz")],-1)),e("div",wt,[e("div",Tt,a(s.formatNumberTopic(t.baseTopic+"/get/power",3,3,.001)+" kW"),1),e("div",xt,a(s.formatNumberTopic(t.baseTopic+"/get/frequency",3)+" Hz"),1)])]),_:1}),c(l,{title:"Zählerstände",subtype:"white","body-bg":"white",class:"py-1 mb-2"},{default:r(()=>[o[1]||(o[1]=e("div",{class:"row"},[e("div",{class:"col-6 text-right"},"Export"),e("div",{class:"col-6 text-right"},"Import")],-1)),e("div",Wt,[e("div",kt,a(s.formatNumberTopic(t.baseTopic+"/get/exported",3,3,.001)+" kWh"),1),e("div",St,a(s.formatNumberTopic(t.baseTopic+"/get/imported",3,3,.001)+" kWh"),1)])]),_:1}),c(l,{title:"Werte pro Phase",subtype:"white","body-bg":"white",class:"py-1 mb-2"},{default:r(()=>[e("div",Bt,[o[2]||(o[2]=e("div",{class:"col-md-4 pr-0 text-center text-md-right"},"Spannung [V]",-1)),e("div",$t,[e("div",Ct,[e("div",Nt,a(s.formatPhaseArrayNumberTopic(t.baseTopic+"/get/voltages",1).split(" / ")[0]),1),e("div",It,a(s.formatPhaseArrayNumberTopic(t.baseTopic+"/get/voltages",1).split(" / ")[1]),1),e("div",qt,a(s.formatPhaseArrayNumberTopic(t.baseTopic+"/get/voltages",1).split(" / ")[2]),1)])])]),e("div",Pt,[o[3]||(o[3]=e("div",{class:"col-md-4 pr-0 text-center text-md-right"},"Strom [A]",-1)),e("div",At,[e("div",Ft,[e("div",Ot,a(s.formatPhaseArrayNumberTopic(t.baseTopic+"/get/currents",2).split(" / ")[0]),1),e("div",Lt,a(s.formatPhaseArrayNumberTopic(t.baseTopic+"/get/currents",2).split(" / ")[1]),1),e("div",Dt,a(s.formatPhaseArrayNumberTopic(t.baseTopic+"/get/currents",2).split(" / ")[2]),1)])])]),e("div",jt,[o[4]||(o[4]=e("div",{class:"col-md-4 pr-0 text-center text-md-right"},"Wirkleistung [kW]",-1)),e("div",Vt,[e("div",zt,[e("div",Et,a(s.formatPhaseArrayNumberTopic(t.baseTopic+"/get/powers",3,3,.001).split(" / ")[0]),1),e("div",Mt,a(s.formatPhaseArrayNumberTopic(t.baseTopic+"/get/powers",3,3,.001).split(" / ")[1]),1),e("div",Gt,a(s.formatPhaseArrayNumberTopic(t.baseTopic+"/get/powers",3,3,.001).split(" / ")[2]),1)])])]),e("div",Ht,[o[5]||(o[5]=e("div",{class:"col-md-4 pr-0 text-center text-md-right"},"Leistungsfaktor",-1)),e("div",Rt,[e("div",Zt,[e("div",Kt,a(s.formatPhaseArrayNumberTopic(t.baseTopic+"/get/power_factors",2).split(" / ")[0]),1),e("div",Jt,a(s.formatPhaseArrayNumberTopic(t.baseTopic+"/get/power_factors",2).split(" / ")[1]),1),e("div",Qt,a(s.formatPhaseArrayNumberTopic(t.baseTopic+"/get/power_factors",2).split(" / ")[2]),1)])])])]),_:1})]),_:1})}const as=T(_t,[["render",os],["__file","/opt/openWB-dev/openwb-ui-settings/src/components/status/CounterCard.vue"]]);S.add($,C,N,A);const is={name:"InverterSumCard",components:{FontAwesomeIcon:B},mixins:[w],computed:{baseTopic:{get(){return"openWB/pv"}}}},rs={key:0,class:"text-right"},cs={key:0},ns={key:1},ls={class:"row"},ds={class:"col text-right text-monospace"},ps={class:"col text-right text-monospace"},us={class:"row"},hs={class:"col text-right text-monospace"},gs={class:"col text-right text-monospace"},ms={class:"col text-right text-monospace"},bs={class:"container"},_s={class:"row"},fs={class:"col px-0"},vs={style:{"white-space":"pre-wrap"}};function ys(s,o,u,b,f,t){const p=d("font-awesome-icon"),l=d("openwb-base-card"),g=d("openwb-base-alert");return i(),m(l,{subtype:"success",collapsible:!0,collapsed:!0,class:"pb-0"},{header:r(()=>[c(p,{"fixed-width":"",icon:["fas","solar-panel"]}),o[0]||(o[0]=h(" Alle Wechselrichter "))]),actions:r(()=>[s.getFaultStateSubtype(t.baseTopic)=="success"?(i(),n("div",rs,a(s.formatNumberTopic(t.baseTopic+"/get/power",3,3,.001))+" kW ",1)):(i(),n("span",{key:1,class:I("subheader pill bg-"+s.getFaultStateSubtype(t.baseTopic))},[s.getFaultStateSubtype(t.baseTopic)=="warning"?(i(),n("div",cs,"Warnung")):(i(),n("div",ns,"Fehler"))],2))]),footer:r(()=>[e("div",bs,[e("div",_s,[e("div",fs,[c(g,{subtype:s.getFaultStateSubtype(t.baseTopic)},{default:r(()=>[c(p,{"fixed-width":"",icon:s.stateIcon},null,8,["icon"]),o[3]||(o[3]=h(" Modulmeldung: ")),e("span",vs,a(s.$store.state.mqtt[t.baseTopic+"/get/fault_str"]),1)]),_:1},8,["subtype"])])])])]),default:r(()=>[c(l,{title:"Aktuelle Werte",subtype:"white","body-bg":"white",class:"py-1 mb-2"},{default:r(()=>[o[1]||(o[1]=e("div",{class:"row"},[e("div",{class:"col text-right"},"Leistung"),e("div",{class:"col text-right"},"Zählerstand")],-1)),e("div",ls,[e("div",ds,a(s.formatNumberTopic(t.baseTopic+"/get/power",3,3,.001))+" kW ",1),e("div",ps,a(s.formatNumberTopic(t.baseTopic+"/get/exported",3,3,.001))+" kWh ",1)])]),_:1}),c(l,{title:"Erträge",subtype:"white","body-bg":"white",class:"py-1 mb-2"},{default:r(()=>[o[2]||(o[2]=e("div",{class:"row"},[e("div",{class:"col text-right"},"Heute"),e("div",{class:"col text-right"},"Monat"),e("div",{class:"col text-right"},"Jahr")],-1)),e("div",us,[e("div",hs,a(s.formatNumberTopic(t.baseTopic+"/get/daily_exported",3,3,.001))+" kWh ",1),e("div",gs,a(s.formatNumberTopic(t.baseTopic+"/get/monthly_exported",1,1,.001))+" kWh ",1),e("div",ms,a(s.formatNumberTopic(t.baseTopic+"/get/yearly_exported",0,0,.001))+" kWh ",1)])]),_:1})]),_:1})}const ws=T(is,[["render",ys],["__file","/opt/openWB-dev/openwb-ui-settings/src/components/status/InverterSumCard.vue"]]);S.add($,C,N,A);const Ts={name:"InverterCard",components:{FontAwesomeIcon:B},mixins:[w],props:{inverter:{type:Object,required:!0}},computed:{baseTopic:{get(){return"openWB/pv/"+this.inverter.id}}}},xs={key:0,class:"text-right"},Ws={key:0},ks={key:1},Ss={class:"row"},Bs={class:"col text-right text-monospace"},$s={class:"col text-right text-monospace"},Cs={class:"row"},Ns={class:"col text-right text-monospace"},Is={class:"col text-right text-monospace"},qs={class:"col text-right text-monospace"},Ps={class:"container"},As={class:"row"},Fs={class:"col px-0"},Os={style:{"white-space":"pre-wrap"}},Ls={class:"col col-auto pr-0"},Ds={class:"text-right"};function js(s,o,u,b,f,t){const p=d("font-awesome-icon"),l=d("openwb-base-card"),g=d("openwb-base-alert");return i(),m(l,{subtype:"success",collapsible:!0,collapsed:!0,class:"pb-0"},{header:r(()=>[c(p,{"fixed-width":"",icon:["fas","solar-panel"]}),h(" "+a(u.inverter.name),1)]),actions:r(()=>[s.getFaultStateSubtype(t.baseTopic)=="success"?(i(),n("div",xs,a(s.formatNumberTopic(t.baseTopic+"/get/power",3,3,.001))+" kW ",1)):(i(),n("span",{key:1,class:I("subheader pill bg-"+s.getFaultStateSubtype(t.baseTopic))},[s.getFaultStateSubtype(t.baseTopic)=="warning"?(i(),n("div",Ws,"Warnung")):(i(),n("div",ks,"Fehler"))],2))]),footer:r(()=>[e("div",Ps,[e("div",As,[e("div",Fs,[c(g,{subtype:s.getFaultStateSubtype(t.baseTopic)},{default:r(()=>[c(p,{"fixed-width":"",icon:s.stateIcon},null,8,["icon"]),o[2]||(o[2]=h(" Modulmeldung: ")),e("span",Os,a(s.$store.state.mqtt[t.baseTopic+"/get/fault_str"]),1)]),_:1},8,["subtype"])]),e("div",Ls,[e("div",Ds,"ID: "+a(u.inverter.id),1)])])])]),default:r(()=>[c(l,{title:"Aktuelle Werte",subtype:"white","body-bg":"white",class:"py-1 mb-2"},{default:r(()=>[o[0]||(o[0]=e("div",{class:"row"},[e("div",{class:"col text-right"},"Leistung"),e("div",{class:"col text-right"},"Zählerstand")],-1)),e("div",Ss,[e("div",Bs,a(s.formatNumberTopic(t.baseTopic+"/get/power",3,3,.001))+" kW ",1),e("div",$s,a(s.formatNumberTopic(t.baseTopic+"/get/exported",3,3,.001))+" kWh ",1)])]),_:1}),c(l,{title:"Erträge",subtype:"white","body-bg":"white",class:"py-1 mb-2"},{default:r(()=>[o[1]||(o[1]=e("div",{class:"row"},[e("div",{class:"col text-right"},"Heute"),e("div",{class:"col text-right"},"Monat"),e("div",{class:"col text-right"},"Jahr")],-1)),e("div",Cs,[e("div",Ns,a(s.formatNumberTopic(t.baseTopic+"/get/daily_exported",3,3,.001))+" kWh ",1),e("div",Is,a(s.formatNumberTopic(t.baseTopic+"/get/monthly_exported",1,1,.001))+" kWh ",1),e("div",qs,a(s.formatNumberTopic(t.baseTopic+"/get/yearly_exported",0,0,.001))+" kWh ",1)])]),_:1})]),_:1})}const Vs=T(Ts,[["render",js],["__file","/opt/openWB-dev/openwb-ui-settings/src/components/status/InverterCard.vue"]]);S.add($,C,N,F);const zs={name:"BatterySumCard",components:{FontAwesomeIcon:B},mixins:[w],computed:{baseTopic:{get(){return"openWB/bat"}}}},Es={key:0,class:"text-right"},Ms={key:0},Gs={key:1},Hs={class:"row"},Rs={class:"col text-right text-monospace pl-0"},Zs={class:"col text-right text-monospace pl-0"},Ks={class:"row"},Js={class:"col text-right text-monospace"},Qs={class:"col text-right text-monospace"},Us={class:"row"},Xs={class:"col text-right text-monospace"},Ys={class:"col text-right text-monospace"},eo={style:{"white-space":"pre-wrap"}};function to(s,o,u,b,f,t){const p=d("font-awesome-icon"),l=d("openwb-base-card"),g=d("openwb-base-alert");return i(),m(l,{subtype:"warning",collapsible:!0,collapsed:!0,class:"pb-0"},{header:r(()=>[c(p,{"fixed-width":"",icon:["fas","car-battery"]}),o[0]||(o[0]=h(" Alle Speicher "))]),actions:r(()=>[s.getFaultStateSubtype(t.baseTopic)=="success"?(i(),n("div",Es,a(s.formatNumberTopic(t.baseTopic+"/get/power",1,1,.001))+" kW / "+a(s.$store.state.mqtt[t.baseTopic+"/get/soc"])+" % ",1)):(i(),n("span",{key:1,class:I("subheader pill bg-"+s.getFaultStateSubtype(t.baseTopic))},[s.getFaultStateSubtype(t.baseTopic)=="warning"?(i(),n("div",Ms,"Warnung")):(i(),n("div",Gs,"Fehler"))],2))]),footer:r(()=>[c(g,{subtype:s.getFaultStateSubtype(t.baseTopic)},{default:r(()=>[c(p,{"fixed-width":"",icon:s.stateIcon},null,8,["icon"]),o[5]||(o[5]=h(" Modulmeldung: ")),e("span",eo,a(s.$store.state.mqtt[t.baseTopic+"/get/fault_str"]),1)]),_:1},8,["subtype"])]),default:r(()=>[c(l,{title:"Aktuelle Werte",subtype:"white","body-bg":"white",class:"py-1 mb-2"},{default:r(()=>[o[1]||(o[1]=e("div",{class:"row"},[e("div",{class:"col-6 text-right"},"Leistung"),e("div",{class:"col-6 text-right"},"Ladestand")],-1)),e("div",Hs,[e("div",Rs,a(s.formatNumberTopic(t.baseTopic+"/get/power",3,3,.001))+" kW ",1),e("div",Zs,a(s.$store.state.mqtt[t.baseTopic+"/get/soc"])+" %",1)])]),_:1}),c(l,{title:"Zählerstände",subtype:"white","body-bg":"white",class:"py-1 mb-2"},{default:r(()=>[o[4]||(o[4]=e("div",{class:"row"},[e("div",{class:"col"}),e("div",{class:"col text-right"},"Geladen"),e("div",{class:"col text-right"},"Entladen")],-1)),e("div",Ks,[o[2]||(o[2]=e("div",{class:"col text-right"},"Heute",-1)),e("div",Js,a(s.formatNumberTopic(t.baseTopic+"/get/daily_imported",3,3,.001))+" kWh ",1),e("div",Qs,a(s.formatNumberTopic(t.baseTopic+"/get/daily_exported",3,3,.001))+" kWh ",1)]),e("div",Us,[o[3]||(o[3]=e("div",{class:"col text-right"},"Gesamt",-1)),e("div",Xs,a(s.formatNumberTopic(t.baseTopic+"/get/imported",3,3,.001))+" kWh ",1),e("div",Ys,a(s.formatNumberTopic(t.baseTopic+"/get/exported",3,3,.001))+" kWh ",1)])]),_:1})]),_:1})}const so=T(zs,[["render",to],["__file","/opt/openWB-dev/openwb-ui-settings/src/components/status/BatterySumCard.vue"]]);S.add($,C,N,F);const oo={name:"BatteryCard",components:{FontAwesomeIcon:B},mixins:[w],props:{battery:{type:Object,required:!0}},computed:{baseTopic:{get(){return"openWB/bat/"+this.battery.id}}}},ao={key:0,class:"text-right"},io={key:0},ro={key:1},co={class:"row"},no={class:"col text-right text-monospace pl-0"},lo={class:"col text-right text-monospace pl-0"},po={class:"row"},uo={class:"col text-right text-monospace"},ho={class:"col text-right text-monospace"},go={class:"row"},mo={class:"col text-right text-monospace"},bo={class:"col text-right text-monospace"},_o={class:"container"},fo={class:"row"},vo={class:"col px-0"},yo={style:{"white-space":"pre-wrap"}},wo={class:"col col-auto pr-0"},To={class:"text-right"};function xo(s,o,u,b,f,t){const p=d("font-awesome-icon"),l=d("openwb-base-card"),g=d("openwb-base-alert");return i(),m(l,{subtype:"warning",collapsible:!0,collapsed:!0,class:"pb-0"},{header:r(()=>[c(p,{"fixed-width":"",icon:["fas","car-battery"]}),h(" "+a(u.battery.name),1)]),actions:r(()=>[s.getFaultStateSubtype(t.baseTopic)=="success"?(i(),n("div",ao,a(s.formatNumberTopic(t.baseTopic+"/get/power",1,1,.001))+" kW / "+a(s.$store.state.mqtt[t.baseTopic+"/get/soc"])+" % ",1)):(i(),n("span",{key:1,class:I("subheader pill bg-"+s.getFaultStateSubtype(t.baseTopic))},[s.getFaultStateSubtype(t.baseTopic)=="warning"?(i(),n("div",io,"Warnung")):(i(),n("div",ro,"Fehler"))],2))]),footer:r(()=>[e("div",_o,[e("div",fo,[e("div",vo,[c(g,{subtype:s.getFaultStateSubtype(t.baseTopic)},{default:r(()=>[c(p,{"fixed-width":"",icon:s.stateIcon},null,8,["icon"]),o[4]||(o[4]=h(" Modulmeldung: ")),e("span",yo,a(s.$store.state.mqtt[t.baseTopic+"/get/fault_str"]),1)]),_:1},8,["subtype"])]),e("div",wo,[e("div",To,"ID: "+a(u.battery.id),1)])])])]),default:r(()=>[c(l,{title:"Aktuelle Werte",subtype:"white","body-bg":"white",class:"py-1 mb-2"},{default:r(()=>[o[0]||(o[0]=e("div",{class:"row"},[e("div",{class:"col-6 text-right"},"Leistung"),e("div",{class:"col-6 text-right"},"Ladestand")],-1)),e("div",co,[e("div",no,a(s.formatNumberTopic(t.baseTopic+"/get/power",3,3,.001))+" kW ",1),e("div",lo,a(s.$store.state.mqtt[t.baseTopic+"/get/soc"])+" %",1)])]),_:1}),c(l,{title:"Zählerstände",subtype:"white","body-bg":"white",class:"py-1 mb-2"},{default:r(()=>[o[3]||(o[3]=e("div",{class:"row"},[e("div",{class:"col"}),e("div",{class:"col text-right"},"Geladen"),e("div",{class:"col text-right"},"Entladen")],-1)),e("div",po,[o[1]||(o[1]=e("div",{class:"col text-right"},"Heute",-1)),e("div",uo,a(s.formatNumberTopic(t.baseTopic+"/get/daily_imported",3,3,.001))+" kWh ",1),e("div",ho,a(s.formatNumberTopic(t.baseTopic+"/get/daily_exported",3,3,.001))+" kWh ",1)]),e("div",go,[o[2]||(o[2]=e("div",{class:"col text-right"},"Gesamt",-1)),e("div",mo,a(s.formatNumberTopic(t.baseTopic+"/get/imported",3,3,.001))+" kWh ",1),e("div",bo,a(s.formatNumberTopic(t.baseTopic+"/get/exported",3,3,.001))+" kWh ",1)])]),_:1})]),_:1})}const Wo=T(oo,[["render",xo],["__file","/opt/openWB-dev/openwb-ui-settings/src/components/status/BatteryCard.vue"]]);S.add($,C,N,J,Q,U,X,Y);const ko={name:"IoDeviceCard",components:{FontAwesomeIcon:B},mixins:[w],props:{ioDevice:{type:Object,required:!0}},data(){return{state:{true:{icon:["fas","square"],title:"Geschlossen"},false:{icon:["far","square"],title:"Offen"}}}},computed:{baseTopic:{get(){return`openWB/io/states/${this.ioDevice.id}`}},faultState(){return this.$store.state.mqtt[`${this.baseTopic}/get/fault_state`]},faultStr(){return this.$store.state.mqtt[`${this.baseTopic}/get/fault_str`]},hasDigitalInputs(){return Object.keys(this.$store.state.mqtt[`${this.baseTopic}/get/digital_input`]||{}).length>0},hasDigitalOutputs(){return Object.keys(this.$store.state.mqtt[`${this.baseTopic}/get/digital_output`]||{}).length>0},hasAnalogInputs(){return Object.keys(this.$store.state.mqtt[`${this.baseTopic}/get/analog_input`]||{}).length>0},hasAnalogOutputs(){return Object.keys(this.$store.state.mqtt[`${this.baseTopic}/get/analog_output`]||{}).length>0},digitalInputStates(){return this.$store.state.mqtt[`${this.baseTopic}/get/digital_input`]},digitalOutputStates(){return this.$store.state.mqtt[`${this.baseTopic}/get/digital_output`]},analogInputStates(){return this.$store.state.mqtt[`${this.baseTopic}/get/analog_input`]},analogOutputStates(){return this.$store.state.mqtt[`${this.baseTopic}/get/analog_output`]}},methods:{getIcon(s){return this.state[s].icon},getTitle(s){return this.state[s].title}}},So={class:"row"},Bo={class:"row"},$o={class:"row"},Co={class:"row"},No={class:"container"},Io={class:"row"},qo={class:"col px-0"},Po={style:{"white-space":"pre-wrap"}},Ao={class:"col col-auto pr-0"},Fo={class:"text-right"};function Oo(s,o,u,b,f,t){const p=d("font-awesome-icon"),l=d("openwb-base-card"),g=d("openwb-base-alert");return i(),m(l,{subtype:"secondary",collapsible:!0,collapsed:!0,class:"pb-0"},{header:r(()=>[c(p,{"fixed-width":"",icon:["fas","tower-broadcast"]}),h(" "+a(u.ioDevice.name),1)]),footer:r(()=>[e("div",No,[e("div",Io,[e("div",qo,[c(g,{subtype:s.getFaultStateSubtype(t.baseTopic)},{default:r(()=>[c(p,{"fixed-width":"",icon:s.stateIcon},null,8,["icon"]),o[0]||(o[0]=h(" Modulmeldung: ")),e("span",Po,a(s.$store.state.mqtt[t.baseTopic+"/get/fault_str"]),1)]),_:1},8,["subtype"])]),e("div",Ao,[e("div",Fo,"ID: "+a(u.ioDevice.id),1)])])])]),default:r(()=>[t.hasDigitalInputs?(i(),m(l,{key:0,title:"Digitale Eingänge",subtype:"white","body-bg":"white",class:"py-1 mb-2"},{default:r(()=>[e("div",So,[(i(!0),n(W,null,x(t.digitalInputStates,(v,y)=>(i(),n("div",{key:y,class:"col io-state"},[h(a(y)+": ",1),c(p,{title:t.getTitle(v),icon:t.getIcon(v),class:"fa-fw"},null,8,["title","icon"])]))),128))])]),_:1})):k("",!0),t.hasDigitalOutputs?(i(),m(l,{key:1,title:"Digitale Ausgänge",subtype:"white","body-bg":"white",class:"py-1 mb-2"},{default:r(()=>[e("div",Bo,[(i(!0),n(W,null,x(t.digitalOutputStates,(v,y)=>(i(),n("div",{key:y,class:"col io-state"},[h(a(y)+": ",1),c(p,{title:t.getTitle(v),icon:t.getIcon(v),class:"fa-fw"},null,8,["title","icon"])]))),128))])]),_:1})):k("",!0),t.hasAnalogInputs?(i(),m(l,{key:2,title:"Analoge Eingänge",subtype:"white","body-bg":"white",class:"py-1 mb-2"},{default:r(()=>[e("div",$o,[(i(!0),n(W,null,x(t.analogInputStates,(v,y)=>(i(),n("div",{key:y,class:"col io-state"},a(y)+": "+a(v),1))),128))])]),_:1})):k("",!0),t.hasAnalogOutputs?(i(),m(l,{key:3,title:"Analoge Ausgänge",subtype:"white","body-bg":"white",class:"py-1 mb-2"},{default:r(()=>[e("div",Co,[(i(!0),n(W,null,x(t.analogOutputStates,(v,y)=>(i(),n("div",{key:y,class:"col io-state"},a(y)+": "+a(v),1))),128))])]),_:1})):k("",!0)]),_:1})}const Lo=T(ko,[["render",Oo],["__scopeId","data-v-356761d0"],["__file","/opt/openWB-dev/openwb-ui-settings/src/components/status/IoDeviceCard.vue"]]);S.add($,C,N,ee);const Do={name:"VehicleCard",components:{FontAwesomeIcon:B},mixins:[w],props:{vehicle:{type:Object,required:!1,default:void 0},vehicleKey:{type:String,required:!0},vehicleName:{type:String,default:""}},computed:{vehicleIndex:{get(){return parseInt(this.vehicleKey.match(/(?:\/)(\d+)(?=\/)/)[1])}},soc:{get(){return this.formatNumberTopic(this.baseTopic+"/get/soc")}},socTimestamp:{get(){return this.$store.state.mqtt["openWB/vehicle/"+this.vehicleIndex+"/get/soc_timestamp"]!==void 0?new Date(this.$store.state.mqtt["openWB/vehicle/"+this.vehicleIndex+"/get/soc_timestamp"]*1e3).toLocaleString():"-"}},socRange:{get(){return this.$store.state.mqtt["openWB/vehicle/"+this.vehicleIndex+"/get/range"]!==void 0?Math.round(this.$store.state.mqtt["openWB/vehicle/"+this.vehicleIndex+"/get/range"]):0}},getVehicleStatus:{get(){return this.$store.state.mqtt["openWB/vehicle/"+this.vehicleIndex+"/get/fault_state"]===void 0?"success":this.statusLevel[this.$store.state.mqtt["openWB/vehicle/"+this.vehicleIndex+"/get/fault_state"]]||"success"}},baseTopic:{get(){return"openWB/vehicle/"+this.vehicleIndex}}}},jo={key:0,class:"text-right"},Vo={key:0},zo={key:0},Eo={key:1},Mo={class:"row"},Go={class:"col text-right text-monospace"},Ho={class:"col text-right text-monospace"},Ro={class:"col text-right text-monospace"},Zo={class:"container"},Ko={class:"row"},Jo={class:"col px-0"},Qo={style:{"white-space":"pre-wrap"}},Uo={class:"col col-auto pr-0"},Xo={class:"text-right"};function Yo(s,o,u,b,f,t){const p=d("font-awesome-icon"),l=d("openwb-base-card"),g=d("openwb-base-alert");return i(),m(l,{subtype:"info",collapsible:!0,collapsed:!0,class:"pb-0"},{header:r(()=>[c(p,{"fixed-width":"",icon:["fas","car"]}),h(" "+a(u.vehicleName),1)]),actions:r(()=>[t.getVehicleStatus=="success"?(i(),n("div",jo,[t.soc!="-"?(i(),n("div",Vo,a(t.soc)+" %",1)):k("",!0)])):(i(),n("span",{key:1,class:I(["subheader pill","bg-"+t.getVehicleStatus])},[t.getVehicleStatus=="warning"?(i(),n("div",zo,"Warnung")):(i(),n("div",Eo,"Fehler"))],2))]),footer:r(()=>[e("div",Zo,[e("div",Ko,[e("div",Jo,[c(g,{subtype:t.getVehicleStatus},{default:r(()=>[c(p,{"fixed-width":"",icon:s.stateIcon},null,8,["icon"]),o[1]||(o[1]=h(" Modulmeldung: ")),e("span",Qo,a(s.$store.state.mqtt[t.baseTopic+"/get/fault_str"]),1)]),_:1},8,["subtype"])]),e("div",Uo,[e("div",Xo,"ID: "+a(t.vehicleIndex),1)])])])]),default:r(()=>[c(l,{title:"Fahrzeugdaten",subtype:"white","body-bg":"white",class:"py-1 mb-2"},{default:r(()=>[o[0]||(o[0]=e("div",{class:"row"},[e("div",{class:"col pr-0 text-right"},"Ladestand"),e("div",{class:"col pr-0 text-right"},"Reichweite"),e("div",{class:"col pr-0 text-right"},"Letzter Zeitstempel")],-1)),e("div",Mo,[e("div",Go,a(t.soc)+" %",1),e("div",Ho,a(t.socRange)+" km",1),e("div",Ro,a(t.socTimestamp),1)])]),_:1})]),_:1})}const ea=T(Do,[["render",Yo],["__file","/opt/openWB-dev/openwb-ui-settings/src/components/status/VehicleCard.vue"]]);S.add($,C,N,te);se.register(oe,ae,ie,re,ce,ne,le,de,pe);const ta={name:"ElectricityTariffCard",components:{ChartjsLine:ue,FontAwesomeIcon:B},mixins:[w],data(){return{mqttTopicsToSubscribe:["openWB/optional/et/provider","openWB/optional/et/get/fault_state","openWB/optional/et/get/fault_str","openWB/optional/et/get/prices"],chartDatasets:{datasets:[{label:"Stromtarif",unit:"ct/kWh",type:"line",stepped:!0,borderColor:"rgba(255, 0, 0, 0.7)",backgroundColor:"rgba(255, 10, 13, 0.3)",fill:!1,pointStyle:"circle",pointRadius:0,pointHoverRadius:4,cubicInterpolationMode:"monotone",hidden:!1,borderWidth:1,data:void 0,yAxisID:"y",parsing:{xAxisKey:"timestamp",yAxisKey:"price"}}]},chartOptions:{plugins:{title:{display:!1},tooltip:{enabled:!0},legend:{display:!1}},elements:{point:{radius:2}},responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},scales:{x:{type:"time",time:{unit:"hour",text:"Zeit",maxTicksLimit:24},display:!0,title:{display:!0,text:"Uhrzeit"},ticks:{font:{size:12},maxTicksLimit:0},grid:{}},y:{position:"left",type:"linear",display:"auto",title:{font:{size:12},display:!0,text:"Preis [ct/kWh]"},grid:{},ticks:{font:{size:12},stepSize:.01,maxTicksLimit:11}}}}}},computed:{electricityTariffConfigured(){const s=this.$store.state.mqtt["openWB/optional/et/provider"];return s!==void 0?s.type!==null:!1},chartDataRead(){return this.chartDataObject.datasets[0].data!=null},chartDataObject(){if(this.$store.state.mqtt["openWB/optional/et/get/prices"]){var s=this.$store.state.mqtt["openWB/optional/et/get/prices"],o=[];for(const[f,t]of Object.entries(s))o.push({timestamp:f*1e3,price:t*1e5});const b=o.slice(-1)[0];o.push({timestamp:b.timestamp+(60*60-1)*1e3,price:b.price})}const u=this.chartDatasets;return u.datasets[0].data=o,u},currentPrice(){return this.formatNumber(this.chartDataObject.datasets[0].data[0].price||0,2)},baseTopic:{get(){return"openWB/optional/et"}}}},sa={key:0,class:"text-right"},oa={key:0},aa={key:1},ia={class:"openwb-chart"},ra={style:{"white-space":"pre-wrap"}};function ca(s,o,u,b,f,t){const p=d("font-awesome-icon"),l=d("chartjs-line"),g=d("openwb-base-card"),v=d("openwb-base-alert");return t.electricityTariffConfigured?(i(),m(g,{key:0,subtype:"secondary",collapsible:!0,collapsed:!0,class:"pb-0"},{header:r(()=>[c(p,{"fixed-width":"",icon:["fas","ranking-star"]}),o[0]||(o[0]=h(" Variabler Stromtarif "))]),actions:r(()=>[s.getFaultStateSubtype(t.baseTopic)=="success"?(i(),n("div",sa,a(t.currentPrice)+" ct/kWh ",1)):(i(),n("span",{key:1,class:I("subheader pill bg-"+s.getFaultStateSubtype(t.baseTopic))},[s.getFaultStateSubtype(t.baseTopic)=="warning"?(i(),n("div",oa,"Warnung")):(i(),n("div",aa,"Fehler"))],2))]),footer:r(()=>[c(v,{subtype:s.getFaultStateSubtype(t.baseTopic)},{default:r(()=>[c(p,{"fixed-width":"",icon:s.stateIcon},null,8,["icon"]),o[1]||(o[1]=h(" Modulmeldung: ")),e("span",ra,a(s.$store.state.mqtt[t.baseTopic+"/get/fault_str"]),1)]),_:1},8,["subtype"])]),default:r(()=>[c(g,{title:"Anbieter: "+s.$store.state.mqtt[t.baseTopic+"/provider"].name,subtype:"white","body-bg":"white",class:"py-1 mb-2"},{default:r(()=>[e("div",ia,[t.chartDataRead?(i(),m(l,{key:0,ref:"myChart",data:t.chartDataObject,options:f.chartOptions},null,8,["data","options"])):k("",!0)])]),_:1},8,["title"])]),_:1})):k("",!0)}const na=T(ta,[["render",ca],["__scopeId","data-v-f4769d2f"],["__file","/opt/openWB-dev/openwb-ui-settings/src/components/status/ElectricityTariffCard.vue"]]);const la={name:"OpenwbStatusView",components:{ChargePointSumCard:We,ChargePointCard:bt,CounterCard:as,InverterSumCard:ws,InverterCard:Vs,BatterySumCard:so,BatteryCard:Wo,IoDeviceCard:Lo,VehicleCard:ea,ElectricityTariffCard:na},mixins:[w],data(){return{mqttTopicsToSubscribe:["openWB/general/extern","openWB/chargepoint/get/power","openWB/chargepoint/get/imported","openWB/chargepoint/get/exported","openWB/chargepoint/get/daily_imported","openWB/chargepoint/get/daily_exported","openWB/chargepoint/+/config","openWB/chargepoint/+/get/+","openWB/chargepoint/+/get/connected_vehicle/info","openWB/chargepoint/+/set/+","openWB/internal_chargepoint/+/data/phases_to_use","openWB/system/device/+/component/+/config","openWB/counter/+/get/+","openWB/pv/get/+","openWB/pv/+/get/+","openWB/bat/get/+","openWB/bat/+/get/+","openWB/vehicle/+/name","openWB/vehicle/+/get/+","openWB/system/io/+/config","openWB/io/states/+/get/+"]}},computed:{installedChargePoints:{get(){let s=this.getWildcardTopics("openWB/chargepoint/+/config"),o={};for(const[u,b]of Object.entries(s))(b.type==="internal_openwb"||this.$store.state.mqtt["openWB/general/extern"]===!1)&&(o[u]=b);return o}},numChargePointsInstalled:{get(){return Object.keys(this.installedChargePoints).length}},counterConfigs:{get(){return this.$store.state.mqtt["openWB/general/extern"]===!0?{}:this.filterComponentsByType(this.getWildcardTopics("openWB/system/device/+/component/+/config"),"counter")}},ioDeviceConfigs:{get(){return this.getWildcardTopics("openWB/system/io/+/config")}},numInvertersInstalled:{get(){return Object.keys(this.inverterConfigs).length}},inverterConfigs:{get(){return this.$store.state.mqtt["openWB/general/extern"]===!0?{}:this.filterComponentsByType(this.getWildcardTopics("openWB/system/device/+/component/+/config"),"inverter")}},numBatteriesInstalled:{get(){return Object.keys(this.batteryConfigs).length}},batteryConfigs:{get(){return this.$store.state.mqtt["openWB/general/extern"]===!0?{}:this.filterComponentsByType(this.getWildcardTopics("openWB/system/device/+/component/+/config"),"bat")}},vehicleNames:{get(){return this.$store.state.mqtt["openWB/general/extern"]===!0?{}:this.getWildcardTopics("openWB/vehicle/+/name")}}},methods:{filterComponentsByType(s,o){return Object.keys(s).filter(u=>s[u].type.includes(o)).reduce((u,b)=>({...u,[b]:s[b]}),{})}}},da={class:"status"};function pa(s,o,u,b,f,t){const p=d("charge-point-sum-card"),l=d("charge-point-card"),g=d("counter-card"),v=d("inverter-sum-card"),y=d("inverter-card"),O=d("battery-sum-card"),L=d("battery-card"),D=d("vehicle-card"),j=d("io-device-card"),V=d("electricity-tariff-card");return i(),n("div",da,[t.numChargePointsInstalled>1&&s.$store.state.mqtt["openWB/general/extern"]===!1?(i(),m(p,{key:0})):k("",!0),(i(!0),n(W,null,x(t.installedChargePoints,(_,q)=>(i(),m(l,{key:q,"installed-charge-point":_,"installed-charge-point-key":q},null,8,["installed-charge-point","installed-charge-point-key"]))),128)),(i(!0),n(W,null,x(t.counterConfigs,_=>(i(),m(g,{key:_.id,counter:_},null,8,["counter"]))),128)),t.numInvertersInstalled>1&&s.$store.state.mqtt["openWB/general/extern"]===!1?(i(),m(v,{key:1})):k("",!0),(i(!0),n(W,null,x(t.inverterConfigs,_=>(i(),m(y,{key:_.id,inverter:_},null,8,["inverter"]))),128)),t.numBatteriesInstalled>1&&s.$store.state.mqtt["openWB/general/extern"]===!1?(i(),m(O,{key:2})):k("",!0),(i(!0),n(W,null,x(t.batteryConfigs,_=>(i(),m(L,{key:_.id,battery:_},null,8,["battery"]))),128)),(i(!0),n(W,null,x(t.vehicleNames,(_,q)=>(i(),m(D,{key:q,"vehicle-key":q,"vehicle-name":_},null,8,["vehicle-key","vehicle-name"]))),128)),(i(!0),n(W,null,x(t.ioDeviceConfigs,_=>(i(),m(j,{key:_.id,"io-device":_},null,8,["io-device"]))),128)),c(V)])}const wa=T(la,[["render",pa],["__scopeId","data-v-051028a3"],["__file","/opt/openWB-dev/openwb-ui-settings/src/views/Status.vue"]]);export{wa as default};
